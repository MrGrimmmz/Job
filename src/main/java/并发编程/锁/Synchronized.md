###三种常见的锁状态
- 对于普通的同步方法： 
    - 锁是当前的对象 
- 对于静态函数的同步方法： 
    - 锁是指引用当前类的class对象 
- 对于同步方法块的内容： 
    - 锁是指Synchonized括号里配置的对象
    
###Synchonized
- synchronized 是依赖于 JVM 实现的

- 线程通信通过Object类提供的wait(),notify(),notifyAll()三个方法来实现

###偏向锁/轻量级锁/重量级锁
这三种锁是指锁的状态，并且是针对Synchronized。在Java 5通过引入锁升级的机制来实现高效Synchronized。这三种锁的状态是通过对象监视器在对象头中的字段来表明的。

- 偏向锁是指一段同步代码一直被一个线程所访问，那么该线程会自动获取锁。降低获取锁的代价。

- 轻量级锁是指当锁是偏向锁的时候，被另一个线程所访问，偏向锁就会升级为轻量级锁，其他线程会通过自旋的形式尝试获取锁，不会阻塞，提高性能。
- 重量级锁是指当锁为轻量级锁的时候，另一个线程虽然是自旋，但自旋不会一直持续下去，当自旋一定次数的时候，还没有获取到锁，就会进入阻塞，该锁膨胀为重量级锁。重量级锁会让其他申请的线程进入阻塞，性能降低。


- JVM 就是利用
  CAS 在对象头上设置线程ID ， 表示这个对象偏向于当前线程， 这就是偏向锁。

- 偏向锁是为了在资源没有被多线程竞争的情况下尽量减少锁带来的性能开销。在
  锁对象的对象头申有一个Threadld 字段， 当第一个线程访问锁时， 如果该锁没有被其
  他线程访问过， 即Threadld 字段为空，那么JVM 让其持有偏向锁， 并将Threadld 字
  段的值设置为该线程的囚。当下一次获取锁时， 会判断当前线程的ID 是否与锁对象
  的Threadld 一致。如果一致， 那么该线程不会再重复获取锁， 从而提高了程序的运行
  效率。如果出现锁的竞争情况， 那么偏向锁会被撤销并升级为轻量级锁。如果资源的
  竞争非常激烈， 会升级为重量级锁。偏向锁可以降低无竞争开销， 它不是互斥锁，不
  存在线程竞争的情况， 省去再次同步判断的步骤， 提升了性能。